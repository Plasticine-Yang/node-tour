(()=>{function i(o,n){let t=o();for(let[r,e]of Object.entries(n))t=t.replace(new RegExp(`{{${r}}}`,"g"),typeof e=="function"?e():e);return t}function c(o,n){let t=Math.random();return Math.floor(o*(1-t)+n*t)}function u(o){let n=[...o],t=()=>{let r=n.length-1,e=c(0,r);return[n[r],n[e]]=[n[e],n[r]],n[e]};return t(),t}function f(o,n){let t="",r=c(200,500),{famousQuotes:e,said:s,preBullshits:a,bullshits:l,conclusions:d}=n,[g,k,x,m,w]=[e,s,a,l,d].map(u);for(;t.length<r||!/[。？]$/.test(t);){let p=c(0,100);p<20?t+=i(g,{said:k,conclusion:w}):p<50?t+=i(x,{title:o})+i(m,{title:o}):t+=i(m,{title:o})}return t}function h(o,{corpusData:n,min:t=6e3,max:r=1e4}={}){let e=c(t,r),s=[],a=0;for(;a<e;){let l=f(o,n);a+=l.length,s.push(l)}return s}var P=async(o,n="../corpus/data.json")=>await(await fetch(o??n)).json();window.bullshitGenerator={genArticle:h,createRandomPicker:u,loadCorpusData:P};})();
